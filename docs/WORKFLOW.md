# ワークフロー - Claude と Windsurf の使い分け

最終更新: 2025-11-02

---

## 🎯 基本方針
```
Claude（このチャット）= 頭脳・企画
Windsurf = 手足・実装
```

**効率とコストを最適化するために、得意分野で分担します。**

---

## 📊 使い分けマトリックス

| タスク | Claude | Windsurf | 理由 |
|--------|--------|----------|------|
| **計画・設計** | ✅ メイン | 参考 | 会話形式が得意 |
| **ドキュメント作成** | ✅ メイン | - | 長文作成に優れる |
| **相談・判断** | ✅ メイン | - | 対話が得意 |
| **アーキテクチャ設計** | ✅ メイン | - | 複雑な判断 |
| **コーディング** | 参考 | ✅ メイン | IDE統合、ファイル編集 |
| **デバッグ** | 参考 | ✅ メイン | 実際のファイルにアクセス |
| **大量のファイル編集** | ❌ 苦手 | ✅ メイン | マルチファイル編集 |
| **リファクタリング** | 参考 | ✅ メイン | 複数ファイルの同時編集 |

---

## 🔄 開発サイクル
```
1. Claude: 計画・方針決定
   ↓
2. Windsurf: 実装
   ↓
3. Claude: レビュー・次の計画
   ↓
4. 繰り返し
```

---

## 📝 引き継ぎテンプレート

### **Claude → Windsurf**

Windsurfに貼り付けるメッセージ:
```markdown
# 引き継ぎ: Claude → Windsurf

## 📚 Step 1: ドキュメントを読む

以下のファイルを順番に読んで、プロジェクト全体を理解してください：

1. `README.md` - プロジェクト概要
2. `docs/REQUIREMENTS.md` - 技術仕様
3. `docs/TODO.md` - 現在のタスク
4. `docs/SONNET-OR-OPUS.md` - AI使い分けガイド

## 🎯 Step 2: 今回のタスク

**Phase:** [Phase番号]
**タスク:** [具体的なタスク名]

`docs/TODO.md` の以下のセクションを実装してください：
```
[該当するTODOセクションをコピペ]
```

## ✅ Step 3: 完了条件

以下が完了したら報告してください：

- [ ] [条件1]
- [ ] [条件2]
- [ ] [条件3]
- [ ] npm run dev でエラーなく動作する

## 📝 Step 4: 注意点

- `docs/SONNET-OR-OPUS.md` に従って、適切なモデルを使用
- 各タスクの前に、推奨モデルと複雑度を表示
- 不明点があれば、`docs/REQUIREMENTS.md` を参照

---

完了したら、以下のテンプレートで報告してください。
```

---

### **Windsurf → Claude**

Claudeに貼り付けるメッセージ:
```markdown
# 引き継ぎ: Windsurf → Claude

## ✅ 完了したこと

**Phase:** [Phase番号]
**タスク:** [タスク名]

以下のタスクを完了しました：

- [x] [完了したタスク1]
- [x] [完了したタスク2]
- [x] [完了したタスク3]

## 📁 作成・編集したファイル
```
[ファイル一覧]
例:
- package.json（新規作成）
- .eleventy.js（新規作成）
- src/_includes/layouts/base.njk（新規作成）
```

## 🎯 動作確認

- [x] npm install 成功
- [x] npm run dev で起動
- [x] http://localhost:8080 で表示確認
- [x] エラーなし

## 💬 確認してほしいこと

1. [確認ポイント1]
2. [確認ポイント2]
3. 次のPhaseに進んで良いか？

## 📝 気になった点・問題

- [あれば記載、なければ「特になし」]

---

レビューをお願いします！
```

---

## 🎯 Phase別の推奨分担

### **Phase 1: 基盤構築**
- **計画（Claude）:** ディレクトリ構成、技術選定
- **実装（Windsurf）:** ファイル作成、11tyセットアップ
- **レビュー（Claude）:** 構成確認、次フェーズ計画

### **Phase 2: 認証システム**
- **計画（Claude）:** 認証フロー設計、セキュリティ方針
- **実装（Windsurf）:** OAuth実装、API作成
- **レビュー（Claude）:** セキュリティ監査、脆弱性チェック

### **Phase 3: データベース**
- **計画（Claude）:** DB設計レビュー、正規化確認
- **実装（Windsurf）:** テーブル作成、API実装
- **レビュー（Claude）:** インデックス確認、パフォーマンス

### **Phase 4-6: 機能実装**
- **計画（Claude）:** UI/UX設計、機能仕様
- **実装（Windsurf）:** コンポーネント作成、API連携
- **レビュー（Claude）:** UX確認、改善提案

### **Phase 7: コラボ機能**
- **計画（Claude）:** 外部API連携方針
- **実装（Windsurf）:** Twitter API実装
- **レビュー（Claude）:** エラーハンドリング確認

### **Phase 8: 最適化**
- **計画（Claude）:** 最適化戦略、パフォーマンス分析
- **実装（Windsurf）:** 画像最適化、コード圧縮
- **レビュー（Claude）:** 総合パフォーマンスチェック

---

## 💰 コスト最適化のコツ

### **Claude側**

#### ✅ DO
- 計画・設計に集中
- ドキュメント作成
- レビューとフィードバック
- 技術的な相談

#### ❌ DON'T
- 大量のコード生成
- ファイルの逐一作成
- 繰り返し実装作業

### **Windsurf側**

#### ✅ DO
- ファイル作成・編集
- デバッグ実行
- 複数ファイルの同時編集
- 動作確認

#### ❌ DON'T
- アーキテクチャの大幅変更（Claudeに相談）
- セキュリティの重要判断（Claudeに相談）
- 技術選定（Claudeに相談）

---

## 🚨 トラブルシューティング

### **Windsurfで解決できない時**
```
1. エラーログをコピー
2. 試したことをリスト化
3. Claudeに相談

Claudeへのメッセージ:
「以下のエラーが解決できません。
[エラーログ]
[試したこと]
原因と解決策を教えてください。」
```

### **Claudeで実装が難しい時**
```
Claudeが「実装方針」だけ提示
→ Windsurfで実装

例:
Claude: 「以下の構成で実装してください:
- ファイル1: [役割]
- ファイル2: [役割]」

Windsurf: 実際にファイル作成
```

---

## 📊 進捗管理

### **TODO.mdの更新**
```
Claude: タスクの追加・整理
Windsurf: 完了チェック（✅）
```

### **CHANGELOG.mdの更新**
```
Windsurf: 実装完了後に追記
Claude: フェーズ完了後にレビュー
```

---

## 🎓 ベストプラクティス

### 1. **明確な境界線**
```
計画 = Claude
実装 = Windsurf
```

### 2. **ドキュメントファースト**
```
まずドキュメントに書く
→ それを見て実装
```

### 3. **小さなサイクル**
```
大きなタスクを小分けに
→ 高速にフィードバック
```

### 4. **定期的なレビュー**
```
Phase完了ごとにClaudeでレビュー
→ 方向性の確認
```

---

## 📋 チェックリスト

### **引き継ぎ前（Claude → Windsurf）**

- [ ] TODO.md を更新
- [ ] タスクを明確化
- [ ] 完了条件を定義
- [ ] 必要なドキュメントを確認

### **引き継ぎ前（Windsurf → Claude）**

- [ ] 実装を完了
- [ ] 動作確認済み
- [ ] 作成ファイルをリスト化
- [ ] 気になる点をメモ

---

## 🔗 関連ドキュメント

- [REQUIREMENTS.md](REQUIREMENTS.md) - 技術仕様
- [TODO.md](TODO.md) - タスク管理
- [SONNET-OR-OPUS.md](SONNET-OR-OPUS.md) - モデル使い分け
- [CHANGELOG.md](CHANGELOG.md) - 変更履歴

---

**このワークフローに従うことで、効率とコストを最大限に最適化できます！** 🚀